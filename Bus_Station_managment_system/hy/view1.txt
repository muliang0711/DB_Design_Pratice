CREATE OR REPLACE VIEW v_bus_schedule_summary AS
SELECT 
    bs.busScheduleId,
    r.routeName,
    bs.plannedDepartureTime,
    bs.status,
    (SELECT MIN(t.price) 
       FROM ticket t 
      WHERE t.busScheduleId = bs.busScheduleId) AS price
FROM busSchedule bs
JOIN routeDriverAssignmentList rda 
    ON bs.routeDriverAssignmentId = rda.routeDriverAssignmentId
JOIN route r 
    ON rda.routeId = r.routeId;
